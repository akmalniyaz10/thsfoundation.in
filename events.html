<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Events â€” The Helping Steps Foundation</title>

<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* ===== EVENTS PAGE ONLY ===== */

.events-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}

@media(max-width:768px){
  .events-head{
    flex-direction:column;
    align-items:flex-start;
  }
}
</style>
</head>

<body>

<!-- ================= TOP BAR ================= -->
<div class="top-bar">
  <div class="container top-inner">
    <div>The Helping Steps Foundation | Section 8 â€” 176526</div>
    <div>admin@thsfoundation.in | +91 6306466244</div>
  </div>
</div>

<!-- ================= HEADER (SAME AS INDEX) ================= -->
<header class="header">
  <div class="container header-inner">

    <div class="logo">
      <img src="images/logo.png" alt="logo">
      <div>
        <h2>The Helping Steps Foundation</h2>
        <small>One Step Towards Smile</small>
      </div>
    </div>

    <div class="menu-toggle" id="menuToggle">
      <i class="fas fa-bars"></i>
    </div>

    <nav id="mobileNav">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="ourteam.html">Our Team</a>
      <a href="initiative.html" class="active">Initiatives</a>
      <a href="contact.html">Contact</a>
      <a href="donate.html" class="donate-btn">Donate</a>
    </nav>

  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="section">
  <div class="container card">

    <!-- TITLE BAR -->
    <div class="events-head">
      <h2 style="margin:0">Upcoming Events</h2>

      <a href="old_event.html"
         class="donate-btn"
         style="padding:6px 14px; font-size:14px; border-radius:6px;">
        Previous Events
      </a>
    </div>

    <!-- EVENTS LIST -->
    <div id="eventsPublic" style="margin-top:18px;"></div>

  </div>
</main>

<!-- ================= FOOTER (SAME AS INDEX) ================= -->
<footer class="footer">
  <div class="container footer-inner">
    <p>admin@thsfoundation.in | www.thsfoundation.in | +91 6306466244</p>
    <div class="social">
      <i class="fab fa-facebook"></i>
      <i class="fab fa-instagram"></i>
      <i class="fab fa-linkedin"></i>
    </div>
  </div>
</footer>

<!-- ================= JS ================= -->
<script>
const menuToggle = document.getElementById("menuToggle");
const mobileNav = document.getElementById("mobileNav");
menuToggle.addEventListener("click",()=>mobileNav.classList.toggle("active"));
</script>

<!-- ðŸ”¥ FIREBASE EVENTS -->
<script type="module">
import { getEvents } from "./js/firebase.js";

async function loadEvents(){
  const wrap = document.getElementById("eventsPublic");
  const events = await getEvents();

  const today = new Date();
  today.setHours(0,0,0,0);

  const upcoming = events.filter(e=>{
    const d = new Date(e.eventDate || e.date);
    d.setHours(0,0,0,0);
    return d >= today;
  });

  if(upcoming.length === 0){
    wrap.innerHTML = "<p class='small-muted'>No upcoming events.</p>";
    return;
  }

  wrap.innerHTML = upcoming.map(e=>`
    <div class="card event-card" style="margin-bottom:14px">
      <h3>${e.title}</h3>
      <p class="small-muted">
        <strong>Date:</strong> ${e.eventDate || e.date}
        ${e.location ? ` | ${e.location}` : ""}
      </p>
      <p>${e.desc || ""}</p>
    </div>
  `).join("");
}

loadEvents();
</script>

</body>
</html>
